---
/*
  Accordion component used in FAQ page.
  accodion default to collapse(expand=false), when "true" value is provided, it will expand the accordion.
  heading level default to h3, when specific value is provided and verified valid, it will set accodrdion heading level to specified value dynamically.
  accordion id is auto generated by uuid v4.
  As usa-accordion class are used in multiple places including banner and nav menu, sd-accordion-js and sd-accordion-button-js are added as querry selector and used in faqHelper.js, no actual style involved.
*/
import {v4 as uuidv4} from 'uuid';
const {question, expand=false, heading_level="h3" } = Astro.props;
const uniqueID = uuidv4()
const valid_headings =["h2","h3","h4","h5","h6"]
const DynamicHeading = valid_headings.includes(heading_level)? heading_level: "h3";
---

<div class="usa-accordion usa-accordion--bordered margin-top-2">
    <DynamicHeading class="usa-accordion__heading">
      <button
        type="button"
        class="usa-accordion__button sd-accordion-button-js"
        aria-expanded={expand}
        aria-controls={uniqueID}
      >
        {question}
      </button>
    </DynamicHeading>
    <div id={uniqueID} class="usa-accordion__content usa-prose sd-accordion-js">
      <slot />
    </div>
  </div>