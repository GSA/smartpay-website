---
const { returnLink, headings, returnLinkText, title} = Astro.props;

---
<div class="usa-layout-docs__sidenav desktop:grid-col-4">
  { returnLinkText && returnLink && (
    <a
      href={`${import.meta.env.BASE_URL}${returnLink}`}
      class="usa-pagination__link usa-pagination__previous-page margin-bottom-2"
      aria-label="Previous page"
      ><svg class="usa-icon" aria-hidden="true" role="img">
        <use xlink:href={`${import.meta.env.BASE_URL}images/sprite.svg#navigate_before`}></use>
      </svg>
      <span class="usa-pagination__link-text">{returnLinkText}</span></a>
  )}
  
  <nav class="sp_site_nav" aria-label="Secondary navigation">
    <h4>{ title }</h4>
      <ul class="usa-sidenav">
            {headings.filter(h => h.depth == 2).map(h => (
                <li class="usa-sidenav__item">
                  <a 
                    href={`#${h.slug}`}
                    onclick={`document.querySelector('#${h.slug}').scrollIntoView({behavior: "smooth"}); event.preventDefault();`}
                  >
                  {h.text}
                  </a>
                </li>)
            )}
     </ul>
  </nav>
</div>

