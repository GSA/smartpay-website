---
/*
This is to set up Smart Bulletins page using yaml file. 
Page is using full size template with no side nav, it has top nav return to parent page and have table structure for main content
This page is served as one optionfor Smartpay team to compare markdown table structure in MDX file vs Yaml file. 
If SP team prefer markdown way, this page needs to be converted to use markdown way, e.g. policies page. 
 */
import { getEntry } from 'astro:content';
import PageLayout from '@layouts/PageLayout.astro';
import FullSizeTemplate from '@components/FullSizeTemplate.astro'
const smartbulletinsData = await getEntry('smartbulletins', 'smart-bulletins');
---
<PageLayout title={smartbulletinsData.data.title}>
  <FullSizeTemplate 
  title={smartbulletinsData.data.title}
  parent_nav_path={smartbulletinsData.data.parent_nav_path} 
  parent_nav_text = {`Return to the ${smartbulletinsData.data.parent_nav_text}`} 
  intro={smartbulletinsData.data.intro}
  >
      <!--smart buletins table -->
      <table class="usa-table usa-table--borderless">
        <thead>
          <tr>
            <th scope="col">Number</th>
            <th scope="col">Title</th>
            <th scope="col">Business Line(s)</th>
            <th scope="col">Published</th>
            <th scope="col">Last Updated</th>
          </tr>
        </thead>
        <tbody>
          { smartbulletinsData.data.bulletins.map(item => (
            <tr>
              <th scope="row" class="grid-col-1">{item.number}</th>
              <td class="grid-col-5">
                <a href={`${import.meta.env.BASE_URL}files/smartbulletins/${item.filename}`}>{item.title}</a> 
              </td>
              <td class="grid-col-2">{item.businessline}</td>
              <td class="grid-col-2">{item.published}</td>
              <td class="grid-col-2">{item.lastupdated}</td>
            </tr>
          ))}
        </tbody>
      </table>
  </FullSizeTemplate>
</PageLayout>
